<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CryptoAuthLib: i2c_bitbang_samd21.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CryptoAuthLib
   </div>
   <div id="projectbrief">Microchip CryptoAuthentication Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00536.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">i2c_bitbang_samd21.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware Interface Functions - I2C bit-bang for SAMD21.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;asf.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="a00539_source.html">i2c_bitbang_samd21.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a77664727b70d3a4c919604dc428d239f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a77664727b70d3a4c919604dc428d239f">DEFAULT_I2C_BUS</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a77664727b70d3a4c919604dc428d239f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43b4ceef3780597f5f667ff9cfd0f191"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a43b4ceef3780597f5f667ff9cfd0f191">i2c_discover_buses</a> (int i2c_bitbang_buses[], int max_buses)</td></tr>
<tr class="memdesc:a43b4ceef3780597f5f667ff9cfd0f191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns the logical bus number for discovering the devices.  <a href="#a43b4ceef3780597f5f667ff9cfd0f191">More...</a><br /></td></tr>
<tr class="separator:a43b4ceef3780597f5f667ff9cfd0f191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf10ae5c65e5e8d20f29acc2fcd5d7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#aecf10ae5c65e5e8d20f29acc2fcd5d7d">i2c_set_pin</a> (uint8_t sda, uint8_t scl)</td></tr>
<tr class="memdesc:aecf10ae5c65e5e8d20f29acc2fcd5d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set I2C data and clock pin. Other functions will use these pins.  <a href="#aecf10ae5c65e5e8d20f29acc2fcd5d7d">More...</a><br /></td></tr>
<tr class="separator:aecf10ae5c65e5e8d20f29acc2fcd5d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1923e2271df541e858cb4e05d7b895"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a5a1923e2271df541e858cb4e05d7b895">i2c_enable</a> (void)</td></tr>
<tr class="memdesc:a5a1923e2271df541e858cb4e05d7b895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure GPIO pins for I2C clock and data as output.  <a href="#a5a1923e2271df541e858cb4e05d7b895">More...</a><br /></td></tr>
<tr class="separator:a5a1923e2271df541e858cb4e05d7b895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe70f8fe4c72329b89ec526c749f50d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#abe70f8fe4c72329b89ec526c749f50d7">i2c_disable</a> (void)</td></tr>
<tr class="memdesc:abe70f8fe4c72329b89ec526c749f50d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure GPIO pins for I2C clock and data as input.  <a href="#abe70f8fe4c72329b89ec526c749f50d7">More...</a><br /></td></tr>
<tr class="separator:abe70f8fe4c72329b89ec526c749f50d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128fce372792e241c66c533edec30c1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a128fce372792e241c66c533edec30c1b">i2c_send_start</a> (void)</td></tr>
<tr class="memdesc:a128fce372792e241c66c533edec30c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a START condition.  <a href="#a128fce372792e241c66c533edec30c1b">More...</a><br /></td></tr>
<tr class="separator:a128fce372792e241c66c533edec30c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223e077dcbdfaf7944f76664c81c4c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a223e077dcbdfaf7944f76664c81c4c3b">i2c_send_ack</a> (uint8_t ack)</td></tr>
<tr class="memdesc:a223e077dcbdfaf7944f76664c81c4c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an ACK or NACK (after receive).  <a href="#a223e077dcbdfaf7944f76664c81c4c3b">More...</a><br /></td></tr>
<tr class="separator:a223e077dcbdfaf7944f76664c81c4c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d871f938b84b40a153a806c55d6aef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a28d871f938b84b40a153a806c55d6aef">i2c_send_stop</a> (void)</td></tr>
<tr class="memdesc:a28d871f938b84b40a153a806c55d6aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a STOP condition.  <a href="#a28d871f938b84b40a153a806c55d6aef">More...</a><br /></td></tr>
<tr class="separator:a28d871f938b84b40a153a806c55d6aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d903bd4606203e120babaf3fe4d926"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a20d903bd4606203e120babaf3fe4d926">i2c_send_wake_token</a> (void)</td></tr>
<tr class="memdesc:a20d903bd4606203e120babaf3fe4d926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Wake Token.  <a href="#a20d903bd4606203e120babaf3fe4d926">More...</a><br /></td></tr>
<tr class="separator:a20d903bd4606203e120babaf3fe4d926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04db7e3e2316cb43e97250a12c4eb81b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00173.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a04db7e3e2316cb43e97250a12c4eb81b">i2c_send_byte</a> (uint8_t i2c_byte)</td></tr>
<tr class="memdesc:a04db7e3e2316cb43e97250a12c4eb81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send one byte.  <a href="#a04db7e3e2316cb43e97250a12c4eb81b">More...</a><br /></td></tr>
<tr class="separator:a04db7e3e2316cb43e97250a12c4eb81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281f835e0c21015a8ab672b08940b730"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00173.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a281f835e0c21015a8ab672b08940b730">i2c_send_bytes</a> (uint8_t count, uint8_t *data)</td></tr>
<tr class="memdesc:a281f835e0c21015a8ab672b08940b730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a number of bytes.  <a href="#a281f835e0c21015a8ab672b08940b730">More...</a><br /></td></tr>
<tr class="separator:a281f835e0c21015a8ab672b08940b730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6cabfafc11c56ea8335f54fac20343"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a2f6cabfafc11c56ea8335f54fac20343">i2c_receive_one_byte</a> (uint8_t ack)</td></tr>
<tr class="memdesc:a2f6cabfafc11c56ea8335f54fac20343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive one byte (MSB first).  <a href="#a2f6cabfafc11c56ea8335f54fac20343">More...</a><br /></td></tr>
<tr class="separator:a2f6cabfafc11c56ea8335f54fac20343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3abf2b54b2161feeaf57fdc834586e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a2a3abf2b54b2161feeaf57fdc834586e">i2c_receive_byte</a> (uint8_t *data)</td></tr>
<tr class="memdesc:a2a3abf2b54b2161feeaf57fdc834586e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive one byte and send ACK.  <a href="#a2a3abf2b54b2161feeaf57fdc834586e">More...</a><br /></td></tr>
<tr class="separator:a2a3abf2b54b2161feeaf57fdc834586e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690ed5c65fe26bbbdf166bbaaf177fc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a690ed5c65fe26bbbdf166bbaaf177fc9">i2c_receive_bytes</a> (uint8_t count, uint8_t *data)</td></tr>
<tr class="memdesc:a690ed5c65fe26bbbdf166bbaaf177fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a number of bytes.  <a href="#a690ed5c65fe26bbbdf166bbaaf177fc9">More...</a><br /></td></tr>
<tr class="separator:a690ed5c65fe26bbbdf166bbaaf177fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad2e9f2387bb528f37bceb48cd88af3d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01141.html">I2CBuses</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#ad2e9f2387bb528f37bceb48cd88af3d0">i2c_buses_default</a></td></tr>
<tr class="separator:ad2e9f2387bb528f37bceb48cd88af3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6d53ef6b697533839248b40bc97861"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#afd6d53ef6b697533839248b40bc97861">pin_sda</a></td></tr>
<tr class="separator:afd6d53ef6b697533839248b40bc97861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ad301ad2a35d50b2e4284a58b82b67"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00536.html#a30ad301ad2a35d50b2e4284a58b82b67">pin_scl</a></td></tr>
<tr class="separator:a30ad301ad2a35d50b2e4284a58b82b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hardware Interface Functions - I2C bit-bang for SAMD21. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) 2015-2018 Microchip Technology Inc. and its subsidiaries. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a77664727b70d3a4c919604dc428d239f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77664727b70d3a4c919604dc428d239f">&#9670;&nbsp;</a></span>DEFAULT_I2C_BUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_I2C_BUS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abe70f8fe4c72329b89ec526c749f50d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe70f8fe4c72329b89ec526c749f50d7">&#9670;&nbsp;</a></span>i2c_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure GPIO pins for I2C clock and data as input. </p>

</div>
</div>
<a id="a43b4ceef3780597f5f667ff9cfd0f191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b4ceef3780597f5f667ff9cfd0f191">&#9670;&nbsp;</a></span>i2c_discover_buses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_discover_buses </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i2c_bitbang_buses</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_buses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns the logical bus number for discovering the devices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2c_bitbang_buses</td><td>The logical bus numbers are assigned to the variables. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_buses</td><td>Maximum number of bus used for discovering. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a1923e2271df541e858cb4e05d7b895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a1923e2271df541e858cb4e05d7b895">&#9670;&nbsp;</a></span>i2c_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure GPIO pins for I2C clock and data as output. </p>

</div>
</div>
<a id="a2a3abf2b54b2161feeaf57fdc834586e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a3abf2b54b2161feeaf57fdc834586e">&#9670;&nbsp;</a></span>i2c_receive_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_receive_byte </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive one byte and send ACK. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>pointer to received byte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a690ed5c65fe26bbbdf166bbaaf177fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690ed5c65fe26bbbdf166bbaaf177fc9">&#9670;&nbsp;</a></span>i2c_receive_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_receive_bytes </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a number of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>pointer to receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of bytes to receive </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f6cabfafc11c56ea8335f54fac20343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6cabfafc11c56ea8335f54fac20343">&#9670;&nbsp;</a></span>i2c_receive_one_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t i2c_receive_one_byte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive one byte (MSB first). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ack</td><td>0:NACK, else:ACK</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes received </dd></dl>
<p>We don't need to delay after the last bit because it takes time to switch the pin to output for acknowledging. </p>

</div>
</div>
<a id="a223e077dcbdfaf7944f76664c81c4c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223e077dcbdfaf7944f76664c81c4c3b">&#9670;&nbsp;</a></span>i2c_send_ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_send_ack </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an ACK or NACK (after receive). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ack</td><td>0: NACK, else: ACK </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; Low data line indicates an ACK.</p>
<p>&lt; High data line indicates a NACK.</p>
<p>Clock out acknowledgment. </p>

</div>
</div>
<a id="a04db7e3e2316cb43e97250a12c4eb81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04db7e3e2316cb43e97250a12c4eb81b">&#9670;&nbsp;</a></span>i2c_send_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00173.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> i2c_send_byte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2c_byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send one byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2c_byte</td><td>byte to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_STATUS </dd></dl>
<p>This avoids spikes but adds an if condition. We could parametrize the call to I2C_SET_OUTPUT and translate the msb to OUTSET or OUTCLR, but then the code would become target specific.</p>
<p>Send 8 bits of data.</p>
<p>Clock out the data bit.</p>
<p>Shifting while clock is high compensates for the time it takes to evaluate the bit while clock is low. That way, the low and high time of the clock pin is almost equal.</p>
<p>Clock in last data bit.</p>
<p>Set data line to be an input.</p>
<p>Wait for the ack. </p>

</div>
</div>
<a id="a281f835e0c21015a8ab672b08940b730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a281f835e0c21015a8ab672b08940b730">&#9670;&nbsp;</a></span>i2c_send_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00173.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> i2c_send_bytes </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a number of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of bytes to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to buffer containing bytes to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_STATUS </dd></dl>

</div>
</div>
<a id="a128fce372792e241c66c533edec30c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a128fce372792e241c66c533edec30c1b">&#9670;&nbsp;</a></span>i2c_send_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_send_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a START condition. </p>
<p>Set clock high in case we re-start. </p>

</div>
</div>
<a id="a28d871f938b84b40a153a806c55d6aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d871f938b84b40a153a806c55d6aef">&#9670;&nbsp;</a></span>i2c_send_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_send_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a STOP condition. </p>

</div>
</div>
<a id="a20d903bd4606203e120babaf3fe4d926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d903bd4606203e120babaf3fe4d926">&#9670;&nbsp;</a></span>i2c_send_wake_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_send_wake_token </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a Wake Token. </p>

</div>
</div>
<a id="aecf10ae5c65e5e8d20f29acc2fcd5d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf10ae5c65e5e8d20f29acc2fcd5d7d">&#9670;&nbsp;</a></span>i2c_set_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_set_pin </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>scl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set I2C data and clock pin. Other functions will use these pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sda</td><td>definition of GPIO pin to be used as data pin </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scl</td><td>definition of GPIO pin to be used as clock pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad2e9f2387bb528f37bceb48cd88af3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e9f2387bb528f37bceb48cd88af3d0">&#9670;&nbsp;</a></span>i2c_buses_default</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01141.html">I2CBuses</a> i2c_buses_default</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {EXT3_PIN_3, EXT3_PIN_9,  EXT3_PIN_I2C_SDA, EXT3_PIN_13, EXT2_PIN_3, EXT2_PIN_5, EXT2_PIN_7, EXT2_PIN_9,  EXT2_PIN_13, EXT2_PIN_15, EXT2_PIN_17, EXT1_PIN_3, EXT1_PIN_5, EXT1_PIN_7, EXT1_PIN_9,  EXT1_PIN_13, EXT1_PIN_15, EXT1_PIN_17},</div><div class="line">    {EXT3_PIN_7, EXT3_PIN_10, EXT3_PIN_I2C_SCL, EXT3_PIN_14, EXT2_PIN_4, EXT2_PIN_6, EXT2_PIN_8, EXT2_PIN_10, EXT2_PIN_14, EXT2_PIN_16, EXT2_PIN_18, EXT1_PIN_4, EXT1_PIN_6, EXT1_PIN_8, EXT1_PIN_10, EXT1_PIN_14, EXT1_PIN_16, EXT1_PIN_18}</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a30ad301ad2a35d50b2e4284a58b82b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ad301ad2a35d50b2e4284a58b82b67">&#9670;&nbsp;</a></span>pin_scl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pin_scl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afd6d53ef6b697533839248b40bc97861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd6d53ef6b697533839248b40bc97861">&#9670;&nbsp;</a></span>pin_sda</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pin_sda</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_e870e4dac26de7990352b1cb7547818f.html">hal</a></li><li class="navelem"><a class="el" href="a00536.html">i2c_bitbang_samd21.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
